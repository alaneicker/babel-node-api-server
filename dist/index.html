<!DOCTYPE html>
<html>
  <head>
    <title>Node Babel</title>
    <link rel="stylesheet" href="styles/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  </head>
  <body>

    <h1>Node API Server</h1>

    <h2>Technologies uses:</h2>
    <ul>
      <li>Babel</li>
      <li>Node</li>
      <li>MongoDB</li>
      <li>Mongoose</li>
    </ul>
    
    <h3>/api/contacts</h3>
    <pre><code class="hljs javascript">axios.get('http://localhost:9000/api/contacts');</code></pre>
    <pre><code id="get-contacts" class="hljs json"></code></pre>

    <h3>/api/contacts/:id</h3>
    <pre><code class="hljs javascript">axios.get('/api/contacts/1');</code></pre>
    <pre><code id="get-contact-by-id" class="hljs json"></code></pre>

    <h3>/api/contact/by-name</h3>
    <pre><code class="hljs javascript">axios.post('http://localhost:9000/api/contact/by-name', { first_name: 'Dwayne', last_name: 'Johnson' })</code></pre>
    <pre><code id="get-contact-by-name" class="hljs json"></code></pre>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script>
      axios.get('http://localhost:9000/api/contacts')
        .then(contacts => {
          const result = document.querySelector('#get-contacts');
          result.innerHTML = JSON.stringify(contacts, null, 2);
          document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
          });
        })
        .catch(err => console.log(err));

      axios.get('http://localhost:9000/api/contacts/1')
        .then(contact => {
          const result = document.querySelector('#get-contact-by-id');
          result.innerHTML = JSON.stringify(contact, null, 2);
          document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
          });
        })
        .catch(err => console.log(err));

      const contact = { first_name: 'Dwayne', last_name: 'Johnson' };
      axios.post('http://localhost:9000/api/contact/by-name', contact)
        .then(contact => {
          const result = document.querySelector('#get-contact-by-name');
          result.innerHTML = JSON.stringify(contact, null, 2);
          document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
          });
        })
        .catch(err => console.log(err));
    </script>
  </body>
</html>
